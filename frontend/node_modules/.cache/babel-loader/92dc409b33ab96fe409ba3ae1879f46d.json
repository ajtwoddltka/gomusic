{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\whktj\\\\Go_music\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\whktj\\\\Go_music\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\whktj\\\\Go_music\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\whktj\\\\Go_music\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\whktj\\\\Go_music\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import CardContainer from'./ProductCards';import{BrowserRouter as Router,Route}from\"react-router-dom\";import Nav from'./Navigations';import{SignInModalWindow,BuyModalWindow}from'./modalwindows';import About from'./About';import Orders from'./orders';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);var user=cookie.getJSON(\"user\")||{loggedin:false};_this.state={user:user,showSignInModal:false,showBuyModal:false};_this.handleSignedIn=_this.handleSignedIn.bind(_assertThisInitialized(_this));_this.handleSignedOut=_this.handleSignedOut.bind(_assertThisInitialized(_this));_this.showSignInModalWindow=_this.showSignInModalWindow.bind(_assertThisInitialized(_this));_this.toggleSignInModalWindow=_this.toggleSignInModalWindow.bind(_assertThisInitialized(_this));_this.showBuyModalWindow=_this.showBuyModalWindow.bind(_assertThisInitialized(_this));_this.toggleBuyModalWindow=_this.toggleBuyModalWindow.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"handleSignedIn\",value:function handleSignedIn(user){console.log(\"Sign in happening...\");var state=this.state;var newState=Object.assign({},state,{user:user,showSignInModal:false});this.setState(newState);}},{key:\"handleSignedOut\",value:function handleSignedOut(){console.log(\"Call app signed out...\");var state=this.state;var newState=Object.assign({},state,{user:{loggedin:false}});this.setState(newState);cookie.set(\"user\",{loggedin:false});}},{key:\"showSignInModalWindow\",value:function showSignInModalWindow(){var state=this.state;var newState=Object.assign({},state,{showSignInModal:true});this.setState(newState);}},{key:\"toggleSignInModalWindow\",value:function toggleSignInModalWindow(){var state=this.state;var newState=Object.assign({},state,{showSignInModal:!state.showSignInModal});this.setState(newState);}},{key:\"showBuyModalWindow\",value:function showBuyModalWindow(id,price){var state=this.state;var newState=Object.assign({},state,{showBuyModal:true,productid:id,price:price});this.setState(newState);}},{key:\"toggleBuyModalWindow\",value:function toggleBuyModalWindow(){var state=this.state;var newState=Object.assign({},state,{showBuyModal:!state.showBuyModal});this.setState(newState);}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('user.json').then(function(res){return res.json();}).then(function(result){console.log('Fetch...');_this2.setState({user:result});});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Nav,{user:this.state.user,handleSignedOut:this.handleSignedOut,showModalWindow:this.showSignInModalWindow}),/*#__PURE__*/React.createElement(\"div\",{className:\"container pt-4 mt-4\"},/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(){return/*#__PURE__*/React.createElement(CardContainer,{location:\"cards.json\",showBuyModal:_this3.showBuyModalWindow});}}),/*#__PURE__*/React.createElement(Route,{path:\"/promos\",render:function render(){return/*#__PURE__*/React.createElement(CardContainer,{location:\"promos.json\",promo:true,showBuyModal:_this3.showBuyModalWindow});}}),this.state.user.loggedin?/*#__PURE__*/React.createElement(Route,{path:\"/myorders\",render:function render(){return/*#__PURE__*/React.createElement(Orders,{location:\"user.json\"});}}):null,/*#__PURE__*/React.createElement(Route,{path:\"/about\",component:About})),/*#__PURE__*/React.createElement(SignInModalWindow,{handleSingnedIn:this.handleSignedIn,showModal:this.state.showSignInModal,toggle:this.toggleSignInModalWindow}),/*#__PURE__*/React.createElement(BuyModalWindow,{showModal:this.state.showBuyModal,toggle:this.toggleBuyModalWindow,user:this.state.user.ID,productid:this.state.productid,price:this.state.price}))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["C:/Users/whktj/Go_music/src/App.js"],"names":["React","CardContainer","BrowserRouter","Router","Route","Nav","SignInModalWindow","BuyModalWindow","About","Orders","App","props","user","cookie","getJSON","loggedin","state","showSignInModal","showBuyModal","handleSignedIn","bind","handleSignedOut","showSignInModalWindow","toggleSignInModalWindow","showBuyModalWindow","toggleBuyModalWindow","console","log","newState","Object","assign","setState","set","id","price","productid","fetch","then","res","json","result","ID","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport CardContainer from './ProductCards';\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport Nav from './Navigations';\r\nimport { SignInModalWindow, BuyModalWindow } from './modalwindows';\r\nimport About from './About';\r\nimport Orders from './orders';\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const user =cookie.getJSON(\"user\") || {loggedin:false};\r\n    this.state = {\r\n      user:user,\r\n      showSignInModal:false,\r\n      showBuyModal:false\r\n    };\r\n    this.handleSignedIn=this.handleSignedIn.bind(this);\r\n    this.handleSignedOut=this.handleSignedOut.bind(this);\r\n    this.showSignInModalWindow = this.showSignInModalWindow.bind(this);\r\n    this.toggleSignInModalWindow = this.toggleSignInModalWindow.bind(this);\r\n    this.showBuyModalWindow = this.showBuyModalWindow.bind(this);\r\n    this.toggleBuyModalWindow = this.toggleBuyModalWindow.bind(this);\r\n  }\r\n\r\n  handleSignedIn(user) {\r\n    console.log(\"Sign in happening...\");\r\n    const state = this.state;\r\n    const newState = Object.assign({},state,{user:user,showSignInModal:false});\r\n    this.setState(newState);\r\n  }\r\n\r\n  handleSignedOut(){\r\n    console.log(\"Call app signed out...\");\r\n    const state = this.state;\r\n    const newState = Object.assign({},state,{user:{loggedin:false}});\r\n    this.setState(newState);\r\n    cookie.set(\"user\",{loggedin:false});\r\n  }\r\n\r\n  showSignInModalWindow(){\r\n    const state = this.state;\r\n    const newState = Object.assign({},state,{showSignInModal:true});\r\n    this.setState(newState);\r\n  }\r\n\r\n  toggleSignInModalWindow() {\r\n    const state = this.state;\r\n    const newState = Object.assign({},state,{showSignInModal:!state.showSignInModal});\r\n    this.setState(newState);\r\n  }\r\n\r\n  \r\n  showBuyModalWindow(id,price){\r\n    const state = this.state;\r\n    const newState = Object.assign({},state,{showBuyModal:true,productid:id,price:price});\r\n    this.setState(newState);\r\n  }\r\n\r\n  toggleBuyModalWindow(){\r\n    const state = this.state;\r\n    const newState = Object.assign({},state,{showBuyModal:!state.showBuyModal});\r\n    this.setState(newState); \r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch('user.json')\r\n      .then(res => res.json())\r\n      .then((result) => {\r\n        console.log('Fetch...');\r\n        this.setState({\r\n          user: result\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Router>\r\n          <div>\r\n            <Nav user={this.state.user} handleSignedOut={this.handleSignedOut} showModalWindow={this.showSignInModalWindow}/>\r\n            <div className='container pt-4 mt-4'>\r\n              <Route exact path=\"/\" render={() => <CardContainer location='cards.json' showBuyModal={this.showBuyModalWindow} />} />\r\n              <Route path=\"/promos\" render={() => <CardContainer location='promos.json' promo={true} showBuyModal={this.showBuyModalWindow}/>} />\r\n              {this.state.user.loggedin ? <Route path=\"/myorders\" render={()=><Orders location='user.json'/>}/> : null}\r\n              <Route path=\"/about\" component={About} />\r\n            </div>\r\n            <SignInModalWindow handleSingnedIn={this.handleSignedIn} showModal={this.state.showSignInModal} toggle={this.toggleSignInModalWindow}/>\r\n            <BuyModalWindow showModal={this.state.showBuyModal} toggle={this.toggleBuyModalWindow} user={this.state.user.ID} productid={this.state.productid} price={this.state.price}/>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}