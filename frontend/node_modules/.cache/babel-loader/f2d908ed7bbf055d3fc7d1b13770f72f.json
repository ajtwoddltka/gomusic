{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\whktj\\\\Go_music\\\\frontend\\\\src\\\\App.js\";\nimport React from 'react';\nimport CardContainer from './ProductCards';\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Nav from './Navigations';\nimport { SignInModalWindow, BuyModalWindow } from './modalwindows';\nimport About from './About';\nimport Orders from './orders';\nimport cookie from 'js-cookie';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    const user = cookie.getJSON(\"user\") || {\n      loggedin: false\n    };\n    this.state = {\n      user: user,\n      showSignInModal: false,\n      showBuyModal: false\n    };\n    this.handleSignedIn = this.handleSignedIn.bind(this);\n    this.handleSignedOut = this.handleSignedOut.bind(this);\n    this.showSignInModalWindow = this.showSignInModalWindow.bind(this);\n    this.toggleSignInModalWindow = this.toggleSignInModalWindow.bind(this);\n    this.showBuyModalWindow = this.showBuyModalWindow.bind(this);\n    this.toggleBuyModalWindow = this.toggleBuyModalWindow.bind(this);\n  }\n\n  handleSignedIn(user) {\n    console.log(\"Sign in happening...\");\n    const state = this.state;\n    const newState = Object.assign({}, state, {\n      user: user,\n      showSignInModal: false\n    });\n    this.setState(newState);\n  }\n\n  handleSignedOut() {\n    console.log(\"Call app signed out...\");\n    const state = this.state;\n    const newState = Object.assign({}, state, {\n      user: {\n        loggedin: false\n      }\n    });\n    this.setState(newState);\n    cookie.set(\"user\", {\n      loggedin: false\n    });\n  }\n\n  showSignInModalWindow() {\n    const state = this.state;\n    const newState = Object.assign({}, state, {\n      showSignInModal: true\n    });\n    this.setState(newState);\n  }\n\n  toggleSignInModalWindow() {\n    const state = this.state;\n    const newState = Object.assign({}, state, {\n      showSignInModal: !state.showSignInModal\n    });\n    this.setState(newState);\n  }\n\n  showBuyModalWindow(id, price) {\n    const state = this.state;\n    const newState = Object.assign({}, state, {\n      showBuyModal: true,\n      productid: id,\n      price: price\n    });\n    this.setState(newState);\n  }\n\n  toggleBuyModalWindow() {\n    const state = this.state;\n    const newState = Object.assign({}, state, {\n      showBuyModal: !state.showBuyModal\n    });\n    this.setState(newState);\n  } //location='user.json'\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Nav, {\n      user: this.state.user,\n      handleSignedOut: this.handleSignedOut,\n      showModalWindow: this.showSignInModalWindow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container pt-4 mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => /*#__PURE__*/React.createElement(CardContainer, {\n        location: \"/products\",\n        showBuyModal: this.showBuyModalWindow,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 51\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/promos\",\n      render: () => /*#__PURE__*/React.createElement(CardContainer, {\n        location: \"/promos\",\n        promo: true,\n        showBuyModal: this.showBuyModalWindow,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 51\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }), this.state.user.loggedin ? /*#__PURE__*/React.createElement(Route, {\n      path: \"/myorders\",\n      render: () => /*#__PURE__*/React.createElement(Orders, {\n        location: '/user/' + this.state.user.ID + '/orders',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 79\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 43\n      }\n    }) : null, /*#__PURE__*/React.createElement(Route, {\n      path: \"/about\",\n      component: About,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(SignInModalWindow, {\n      handleSignedIn: this.handleSignedIn,\n      showModal: this.state.showSignInModal,\n      toggle: this.toggleSignInModalWindow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(BuyModalWindow, {\n      showModal: this.state.showBuyModal,\n      toggle: this.toggleBuyModalWindow,\n      user: this.state.user.ID,\n      productid: this.state.productid,\n      price: this.state.price,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/whktj/Go_music/frontend/src/App.js"],"names":["React","CardContainer","BrowserRouter","Router","Route","Nav","SignInModalWindow","BuyModalWindow","About","Orders","cookie","App","Component","constructor","props","user","getJSON","loggedin","state","showSignInModal","showBuyModal","handleSignedIn","bind","handleSignedOut","showSignInModalWindow","toggleSignInModalWindow","showBuyModalWindow","toggleBuyModalWindow","console","log","newState","Object","assign","setState","set","id","price","productid","render","ID"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport CardContainer from './ProductCards';\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport Nav from './Navigations';\r\nimport { SignInModalWindow, BuyModalWindow } from './modalwindows';\r\nimport About from './About';\r\nimport Orders from './orders';\r\nimport cookie from 'js-cookie';\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const user = cookie.getJSON(\"user\") || {loggedin:false};\r\n    this.state = {\r\n      user: user,\r\n      showSignInModal: false,\r\n      showBuyModal: false\r\n    };\r\n    this.handleSignedIn = this.handleSignedIn.bind(this);\r\n    this.handleSignedOut = this.handleSignedOut.bind(this);\r\n    this.showSignInModalWindow = this.showSignInModalWindow.bind(this);\r\n    this.toggleSignInModalWindow = this.toggleSignInModalWindow.bind(this);\r\n    this.showBuyModalWindow = this.showBuyModalWindow.bind(this);\r\n    this.toggleBuyModalWindow = this.toggleBuyModalWindow.bind(this);\r\n    \r\n  }\r\n\r\n  handleSignedIn(user) {\r\n    console.log(\"Sign in happening...\");\r\n    const state = this.state;\r\n    const newState = Object.assign({},state,{user:user,showSignInModal:false});\r\n    this.setState(newState);\r\n  }\r\n\r\n  handleSignedOut(){\r\n    console.log(\"Call app signed out...\");\r\n    const state = this.state;\r\n    const newState = Object.assign({},state,{user:{loggedin:false}});\r\n    this.setState(newState);\r\n    cookie.set(\"user\",{loggedin:false});\r\n  }\r\n\r\n  showSignInModalWindow(){\r\n    const state = this.state;\r\n    const newState = Object.assign({},state,{showSignInModal:true});\r\n    this.setState(newState);\r\n  }\r\n\r\n  toggleSignInModalWindow() {\r\n    const state = this.state;\r\n    const newState = Object.assign({},state,{showSignInModal:!state.showSignInModal});\r\n    this.setState(newState);\r\n  }\r\n\r\n\r\n\r\n  showBuyModalWindow(id,price){\r\n    const state = this.state;\r\n    const newState = Object.assign({},state,{showBuyModal:true,productid:id,price:price});\r\n    this.setState(newState);\r\n  }\r\n\r\n  toggleBuyModalWindow(){\r\n    const state = this.state;\r\n    const newState = Object.assign({},state,{showBuyModal:!state.showBuyModal});\r\n    this.setState(newState); \r\n  }\r\n  //location='user.json'\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Router>\r\n          <div>\r\n            <Nav user={this.state.user} handleSignedOut={this.handleSignedOut} showModalWindow={this.showSignInModalWindow}/>\r\n            <div className='container pt-4 mt-4'>\r\n              <Route exact path=\"/\" render={() => <CardContainer location='/products' showBuyModal={this.showBuyModalWindow}/>} />\r\n              <Route path=\"/promos\" render={() => <CardContainer location='/promos' promo={true} showBuyModal={this.showBuyModalWindow}/>} />\r\n              {this.state.user.loggedin ? <Route path=\"/myorders\" render={()=><Orders location={'/user/'+this.state.user.ID+'/orders'}/>}/> : null}\r\n              <Route path=\"/about\" component={About} />\r\n            </div>\r\n            <SignInModalWindow handleSignedIn={this.handleSignedIn} showModal={this.state.showSignInModal} toggle={this.toggleSignInModalWindow} />\r\n            <BuyModalWindow showModal={this.state.showBuyModal} toggle={this.toggleBuyModalWindow} user={this.state.user.ID} productid={this.state.productid} price={this.state.price}/>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}